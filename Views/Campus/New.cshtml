<div id="app" class="container">
    <form v-on:submit.prevent="save">
        <div class="form-group">
            <label class="form-label">Name</label>
            <input type="text" class="form-control" v-model="campus.name">
        </div>
        <div class="form-group">
            <label class="form-label">Address</label>
            <input type="text" class="form-control" v-model="campus.address">
        </div>
        <button type="submit">Add</button>
    </form>
</div>

@section Scripts
{
    <script>
        $(() => {
            const app = Vue.createApp({
                setup(){
                    const campus = Vue.ref({name: null, address : null});
                    const save = async () => {
                        try {
                          let model = campus.value;
                          const res = await $.ajax('/Campus/New', {
                              data : {model},
                              method : "post"
                          });
                          location.replace("/Campus/Index");
                        }
                        catch (e){
                            console.log(e);    
                            alert("Error occured, Check console for more info");
                        }
                    }
                    return {
                        campus,
                        save  
                    }
                }
            });
            app.mount("#app");
        })
    </script>
}
